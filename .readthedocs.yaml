# Read the Docs configuration file
# See https://docs.readthedocs.io/en/stable/config-file/v2.html for details

# Required
version: 2

# Set the OS, Python version and other tools you might need
build:
  os: ubuntu-22.04
  tools:
    rust: latest
  commands:
    # install cargo-binstall
    - >-
      curl
      -L --proto '=https' --tlsv1.2 -sSf
      https://raw.githubusercontent.com/cargo-bins/cargo-binstall/main/install-from-binstall-release.sh
      | bash
    # install mdbook and mdbook-alerts
    - cargo binstall -y mdbook mdbook-alerts
    # build docs
    - mdbook build docs
    # move HTML output to required RTD output path
    - mkdir -p ${READTHEDOCS_OUTPUT}
    - mv docs/book/html/ "${READTHEDOCS_OUTPUT}"
